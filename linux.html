<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishna Patil - PortfolioOS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ubuntu-blue: #1e3a8a;
            --ubuntu-dark-blue: #1e40af;
            --ubuntu-purple: #772953;
            --ubuntu-dark: #0f172a;
            --ubuntu-light: #334155;
            --terminal-bg: #0f172a;
            --terminal-text: #FFFFFF;
            --sidebar-bg: #1e293b;
            --topbar-bg: #1e293b;
            --window-border: #475569;
            --accent-blue: #3b82f6;
            --text-primary: #FFFFFF;
            --text-secondary: #cbd5e1;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Ubuntu', sans-serif;
            background: linear-gradient(135deg, var(--ubuntu-dark) 0%, var(--ubuntu-purple) 50%, var(--ubuntu-light) 100%);
            background-attachment: fixed;
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            overflow: hidden;
            user-select: none;
        }

        .ubuntu-logo {
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, var(--ubuntu-blue) 30%, transparent 31%);
            border-radius: 50%;
            position: relative;
        }

        .ubuntu-logo::before,
        .ubuntu-logo::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: var(--ubuntu-blue);
            border-radius: 50%;
        }

        .ubuntu-logo::before {
            top: 2px;
            right: 2px;
        }

        .ubuntu-logo::after {
            bottom: 2px;
            left: 9px;
        }

        #desktop {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #desktop.overview-mode {
            transform: scale(0.8);
            filter: brightness(0.6);
        }

        .top-panel {
            background: var(--topbar-bg);
            border-bottom: 1px solid #334155;
            backdrop-filter: blur(10px);
            height: 28px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 8px;
            font-size: 13px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }

        .activities-button {
            padding: 4px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .activities-button:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .activities-button.active {
            background-color: var(--ubuntu-blue);
            color: white;
        }

        .clock-date {
            font-weight: 500;
            text-align: center;
            color: var(--text-secondary);
        }

        .system-indicators {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .indicator {
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .indicator:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 28px;
            bottom: 0;
            width: 64px;
            background: var(--sidebar-bg);
            border-right: 1px solid #334155;
            z-index: 999;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.3);
        }

        .dock-item {
            width: 48px;
            height: 48px;
            margin: 4px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            position: relative;
            background: rgba(255,255,255,0.05);
            border: 1px solid transparent;
        }

        .dock-item:hover {
            background: rgba(255,255,255,0.15);
            transform: scale(1.1);
            border-color: rgba(255,255,255,0.2);
        }

        .dock-item.active {
            background: var(--ubuntu-blue);
            border-color: var(--accent-blue);
        }

        .dock-item.running::after {
            content: '';
            position: absolute;
            left: -4px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: var(--ubuntu-blue);
            border-radius: 0 2px 2px 0;
        }

        .dock-item svg {
            width: 24px;
            height: 24px;
            color: var(--text-primary);
        }

        .window {
            position: absolute;
            background: #383838;
            border: 1px solid var(--window-border);
            border-radius: 8px 8px 0 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            min-width: 400px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            resize: both;
            overflow: hidden;
            transition: all 0.2s ease;
        }

        .window.maximized {
            top: 28px !important;
            left: 64px !important;
            width: calc(100vw - 64px) !important;
            height: calc(100vh - 28px) !important;
            border-radius: 0;
            resize: none;
        }

        .window.minimized {
            opacity: 0;
            transform: scale(0.8) translateY(50px);
            pointer-events: none;
        }

        .window.focused {
            z-index: 100;
            border-color: var(--ubuntu-blue);
        }

        .window-header {
            height: 36px;
            background: linear-gradient(to bottom, #454545, #383838);
            border-bottom: 1px solid #2a2a2a;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
            cursor: move;
            user-select: none;
        }

        .window-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            font-size: 14px;
            color: var(--text-primary);
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-control {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .window-control.close {
            background: #FF5F56;
        }

        .window-control.minimize {
            background: #FFBD2E;
        }

        .window-control.maximize {
            background: #27C93F;
        }

        .window-control:hover {
            transform: scale(1.1);
        }

        .window-control:hover::after {
            opacity: 1;
        }

        .window-control.close::after {
            content: '×';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #8B0000;
            font-size: 12px;
            font-weight: bold;
            opacity: 0;
        }

        .window-control.minimize::after {
            content: '−';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #8B6914;
            font-size: 12px;
            font-weight: bold;
            opacity: 0;
        }

        .window-control.maximize::after {
            content: '⬜';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #0F5132;
            font-size: 8px;
            opacity: 0;
        }

        .window-content {
            flex: 1;
            overflow: auto;
            background: #2D2D2D;
        }

        .terminal {
            background: var(--terminal-bg);
            color: var(--terminal-text);
            font-family: 'Ubuntu Mono', monospace;
            padding: 12px;
            height: 100%;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.4;
        }

        .terminal-prompt {
            color: #4E9A06;
            font-weight: bold;
        }

        .terminal-path {
            color: var(--accent-blue);
            font-weight: bold;
        }

        .terminal-input {
            background: transparent;
            border: none;
            outline: none;
            color: var(--terminal-text);
            font-family: inherit;
            font-size: inherit;
            width: 100%;
        }

        .file-manager {
            background: #F6F6F6;
            color: #2E3436;
            display: flex;
            height: 100%;
        }

        .file-sidebar {
            width: 180px;
            background: #EBEBEB;
            border-right: 1px solid #D3D3D3;
            padding: 8px;
        }

        .file-content {
            flex: 1;
            padding: 12px;
        }

        .file-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .file-item:hover {
            background-color: #E1E1E1;
        }

        .file-item.selected {
            background-color: var(--ubuntu-blue);
            color: white;
        }

        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 16px;
            padding: 8px;
        }

        .file-grid-item {
            text-align: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .file-grid-item:hover {
            background-color: rgba(30, 58, 138, 0.1);
        }

        .file-icon {
            font-size: 32px;
            margin-bottom: 4px;
        }

        .file-name {
            font-size: 12px;
            word-break: break-word;
        }

        .desktop-icons {
            position: absolute;
            top: 40px;
            left: 80px;
            right: 16px;
            bottom: 16px;
            display: grid;
            grid-template-columns: repeat(auto-fill, 80px);
            grid-template-rows: repeat(auto-fill, 100px);
            gap: 16px;
            padding: 16px;
            align-content: start;
        }

        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .desktop-icon .icon {
            font-size: 48px;
            margin-bottom: 4px;
        }

        .desktop-icon .label {
            font-size: 12px;
            text-align: center;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            word-break: break-word;
        }

        .browser-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        .browser-toolbar {
            background: #E8E8E8;
            padding: 8px 12px;
            border-bottom: 1px solid #D3D3D3;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .browser-button {
            background: #F6F6F6;
            border: 1px solid #D3D3D3;
            border-radius: 4px;
            padding: 6px 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .browser-button:hover {
            background: #E8E8E8;
        }

        .browser-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .address-bar {
            flex: 1;
            padding: 6px 12px;
            border: 1px solid #D3D3D3;
            border-radius: 4px;
            font-size: 14px;
        }

        .context-menu {
            position: absolute;
            background: #2D2D2D;
            border: 1px solid var(--window-border);
            border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            min-width: 180px;
        }

        .context-menu-item {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 13px;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .context-menu-item:hover {
            background-color: var(--ubuntu-blue);
        }

        .context-menu-separator {
            height: 1px;
            background: var(--window-border);
            margin: 4px 0;
        }

        .activities-overview {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1500;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 50px;
        }

        .activities-overview.active {
            display: flex;
        }

        .workspace-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 800px;
        }

        .window-preview {
            background: #2D2D2D;
            border: 2px solid var(--window-border);
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            aspect-ratio: 16/10;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .window-preview:hover {
            border-color: var(--ubuntu-blue);
            transform: scale(1.05);
        }

        .notification {
            position: fixed;
            top: 40px;
            right: 16px;
            background: #2D2D2D;
            border: 1px solid var(--window-border);
            border-radius: 8px;
            padding: 12px 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            animation: slideIn 0.3s ease-out;
            max-width: 300px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--terminal-bg);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--terminal-text);
            font-family: 'Ubuntu Mono', monospace;
        }

        .boot-logo {
            font-size: 48px;
            color: var(--ubuntu-blue);
            margin-bottom: 20px;
        }

        .boot-text {
            font-size: 14px;
            color: #4E9A06;
            text-align: left;
            max-width: 80%;
            line-height: 1.2;
            white-space: pre-line;
        }

        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--ubuntu-dark) 0%, var(--ubuntu-purple) 50%, var(--ubuntu-light) 100%);
            z-index: 9998;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
        }

        .login-container {
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 40px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--ubuntu-blue);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
        }

        .login-button {
            background: var(--ubuntu-blue);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .login-button:hover {
            background: var(--accent-blue);
        }

        .system-info {
            position: fixed;
            bottom: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            color: var(--text-secondary);
            backdrop-filter: blur(5px);
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 2px solid transparent;
            border-top: 2px solid var(--ubuntu-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .file-toolbar {
            background: #E8E8E8;
            border-bottom: 1px solid #D3D3D3;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
        }

        .toolbar-button {
            background: #F6F6F6;
            border: 1px solid #D3D3D3;
            border-radius: 4px;
            padding: 6px 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .toolbar-button:hover {
            background: #E8E8E8;
        }

        .breadcrumb {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 4px;
            color: #555;
        }

        .breadcrumb-item {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 2px;
        }

        .breadcrumb-item:hover {
            background: #E8E8E8;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-blue);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--ubuntu-blue);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 48px;
            }
            
            .dock-item {
                width: 36px;
                height: 36px;
            }
            
            .dock-item svg {
                width: 18px;
                height: 18px;
            }
            
            .desktop-icons {
                left: 64px;
            }
            
            .window.maximized {
                left: 48px !important;
                width: calc(100vw - 48px) !important;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-screen">
        <div class="login-container">
            <div class="user-avatar">👨‍💻</div>
            <h2 style="margin: 0 0 10px 0; font-weight: 300;">Krishna Patil</h2>
            <p style="margin: 0 0 20px 0; color: #ccc;">Welcome to PortfolioOS</p>
            <button id="login-btn" class="login-button">Sign In</button>
        </div>
    </div>

    <!-- Boot Screen -->
    <div id="boot-screen" class="boot-screen hidden">
        <div class="boot-logo">🐧</div>
        <div class="loading-spinner"></div>
        <div class="boot-text" id="boot-text"></div>
    </div>

    <!-- Main Desktop -->
    <div id="desktop" style="opacity: 0;">
        <!-- Top Panel -->
        <div class="top-panel">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div class="activities-button" id="activities-btn">Activities</div>
                <div class="ubuntu-logo"></div>
            </div>
            <div class="clock-date" id="clock-date"></div>
            <div class="system-indicators">
                <div class="indicator" id="wifi-indicator">📶</div>
                <div class="indicator" id="battery-indicator">🔋 85%</div>
                <div class="indicator" id="volume-indicator">🔊</div>
                <div class="indicator" onclick="showNotification('Settings opened')">⚙️</div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="dock-item" onclick="openApp('files')" data-app="files" title="Files">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openApp('terminal')" data-app="terminal" title="Terminal">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="4 17 10 11 4 5"/>
                    <line x1="12" y1="19" x2="20" y2="19"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openApp('browser')" data-app="browser" title="Web Browser">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="2" y1="12" x2="22" y2="12"/>
                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openApp('code')" data-app="code" title="Text Editor">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="16 18 22 12 16 6"/>
                    <polyline points="8 6 2 12 8 18"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openApp('portfolio')" data-app="portfolio" title="Portfolio">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                    <line x1="8" y1="21" x2="16" y2="21"/>
                    <line x1="12" y1="17" x2="12" y2="21"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openExternal('https://github.com/kriss2012')" title="GitHub">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                </svg>
            </div>
            <div class="dock-item" onclick="openExternal('https://linkedin.com/in/krishna-chandrakant-patil-3396')" title="LinkedIn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                    <rect x="2" y="9" width="4" height="12"/>
                    <circle cx="4" cy="4" r="2"/>
                </svg>
            </div>
        </div>

        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="desktop-icon" ondblclick="openApp('files')">
                <div class="icon">🏠</div>
                <div class="label">Home</div>
            </div>
            <div class="desktop-icon" ondblclick="openApp('portfolio')">
                <div class="icon">💼</div>
                <div class="label">Portfolio</div>
            </div>
            <div class="desktop-icon" ondblclick="openApp('code', 'resume')">
                <div class="icon">📄</div>
                <div class="label">Resume</div>
            </div>
            <div class="desktop-icon" ondblclick="showNotification('Trash is empty')">
                <div class="icon">🗑️</div>
                <div class="label">Trash</div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" onclick="openApp('terminal')">
            <span>📟</span> Open Terminal
        </div>
        <div class="context-menu-item" onclick="openApp('files')">
            <span>📁</span> Open Files
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" onclick="showNotification('Wallpaper changed!')">
            <span>🖼️</span> Change Background
        </div>
        <div class="context-menu-item" onclick="showNotification('Display settings opened')">
            <span>🖥️</span> Display Settings
        </div>
    </div>

    <!-- Activities Overview -->
    <div id="activities-overview" class="activities-overview">
        <div class="workspace-preview" id="workspace-preview">
            <!-- Windows will be added here dynamically -->
        </div>
    </div>

    <!-- System Info -->
    <div class="system-info">
        PortfolioOS 20.04.6 LTS | Krishna Patil Edition
    </div>

    <script>
        // Enhanced Virtual File System with GitHub Projects
        const VFS = {
            '/': {
                type: 'directory',
                children: {
                    'home': {
                        type: 'directory',
                        children: {
                            'krishna': {
                                type: 'directory',
                                children: {
                                    'Desktop': {
                                        type: 'directory',
                                        children: {
                                            'README.txt': {
                                                type: 'file',
                                                content: `Welcome to Krishna Patil's PortfolioOS Desktop!

This is a Linux-style portfolio showcasing my projects and skills.

Quick Navigation:
- Double-click folders to explore
- Use the sidebar to launch applications  
- Right-click for context menu
- Check out Projects folder for my work

Contact: 202krishnapatil@gmail.com
GitHub: github.com/kriss2012

Enjoy exploring!`
                                            }
                                        }
                                    },
                                    'Documents': {
                                        type: 'directory',
                                        children: {
                                            'Resume.txt': {
                                                type: 'file',
                                                content: `KRISHNA PATIL - SOFTWARE DEVELOPER

Education: BCA 3rd Year, G.H Raisoni College
Expected Graduation: March 2026

Skills:
- Python (Advanced)
- JavaScript (Intermediate)  
- HTML/CSS (Advanced)
- Flask, React, Node.js
- Machine Learning
- Google Cloud APIs

Major Projects:
1. BhashaConverter - Language Translation App
2. Fake Review Detection System
3. Online Book Store
4. Adventure Game Development

Contact: 202krishnapatil@gmail.com
LinkedIn: krishna-chandrakant-patil-3396
GitHub: github.com/kriss2012`
                                            },
                                            'Cover_Letter.txt': {
                                                type: 'file',
                                                content: `Dear Hiring Manager,

I am Krishna Patil, a passionate BCA student specializing in full-stack development and machine learning. 

My experience includes building production-ready applications:
- BhashaConverter: Multi-language translation with speech recognition
- AI-powered fake review detection system  
- Complete e-commerce platforms

I am excited about opportunities to contribute my technical skills and creativity to your team.

Best regards,
Krishna Patil
202krishnapatil@gmail.com`
                                            }
                                        }
                                    },
                                    'Projects': {
                                        type: 'directory',
                                        children: {
                                            'BhashaConverter': {
                                                type: 'directory',
                                                children: {
                                                    'README.md': {
                                                        type: 'file',
                                                        content: `# BhashaConverter - Language Translation App

## Overview
Comprehensive language translation application with speech recognition capabilities.

## Features
- Text translation between multiple languages
- Speech-to-text conversion
- Document translation (PDF, DOCX, HTML)
- Modern React frontend
- Flask backend with Google APIs

## Technologies
- Python, Flask
- React, JavaScript
- Google Cloud Translation API
- Google Speech-to-Text API

## Links
Live Demo: https://kriss2012.github.io/BashaConverter-Krishna/BashaConverter-Krishna.html
GitHub: https://github.com/kriss2012/BashaConverter-Krishna

## Status: ✅ Deployed and Live`
                                                    },
                                                    'features.txt': {
                                                        type: 'file',
                                                        content: `BhashaConverter Key Features:

1. Multi-Language Support
   - 100+ language pairs
   - Real-time translation
   - Language auto-detection

2. Speech Recognition
   - Voice input processing
   - Real-time transcription
   - Multiple language support

3. Document Translation
   - PDF file processing
   - DOCX document handling
   - HTML file translation

4. Modern Interface
   - Responsive design
   - Dark theme support
   - Mobile-friendly

5. API Integration
   - Google Cloud APIs
   - Secure authentication
   - Rate limiting`
                                                    }
                                                }
                                            },
                                            'FakeReviewDetection': {
                                                type: 'directory',
                                                children: {
                                                    'README.md': {
                                                        type: 'file',
                                                        content: `# Fake Review Detection System

## Overview
AI-powered system to detect fraudulent product reviews using machine learning.

## Features
- Text analysis with NLTK
- Screenshot processing
- Machine learning classification
- 87% accuracy rate

## Technologies
- Python, Flask
- NLTK, scikit-learn
- Machine Learning algorithms
- Image processing

## Performance
- Accuracy: 87%
- Precision: 89%
- Recall: 84%
- F1-Score: 86%

## Links
Live Demo: https://fake-review-id-system-2.onrender.com/
Status: ✅ Deployed and Live`
                                                    },
                                                    'model_info.txt': {
                                                        type: 'file',
                                                        content: `Fake Review Detection - Model Details

Machine Learning Pipeline:
1. Data Preprocessing
   - Text cleaning and normalization
   - Feature extraction using TF-IDF
   - Label encoding for classification

2. Model Training
   - Random Forest Classifier
   - Support Vector Machine
   - Cross-validation testing

3. Features Used
   - Text sentiment analysis
   - Review length patterns
   - Language complexity metrics
   - Reviewer behavior patterns

4. Performance Metrics
   - Training accuracy: 91%
   - Test accuracy: 87%
   - False positive rate: 11%
   - Processing time: <2 seconds per review

Dataset: 1000+ labeled reviews (fake/genuine)`
                                                    }
                                                }
                                            },
                                            'OnlineBookStore': {
                                                type: 'directory',
                                                children: {
                                                    'README.md': {
                                                        type: 'file',
                                                        content: `# Online Book Store

## Overview
Complete e-commerce platform for browsing and purchasing books online.

## Features
- Book catalog with search
- User authentication
- Shopping cart system
- Responsive design
- Payment integration ready

## Technologies
- HTML5, CSS3
- JavaScript (ES6+)
- Responsive Grid/Flexbox
- LocalStorage for cart
- Modern web APIs

## Highlights
- Mobile-first design
- Fast performance
- SEO optimized
- Accessible interface

## Links
Live Demo: https://kriss2012.github.io/Online-Book-Store/
Status: ✅ Deployed and Live`
                                                    },
                                                    'features.txt': {
                                                        type: 'file',
                                                        content: `Online Book Store Features:

Frontend Features:
- Modern responsive design
- Book catalog with filtering
- Advanced search functionality
- User-friendly shopping cart
- Wishlist management
- Book recommendations

Technical Features:
- Pure JavaScript (no frameworks)
- CSS Grid and Flexbox layout
- LocalStorage for data persistence
- Optimized image loading
- Cross-browser compatibility

User Experience:
- Fast loading times
- Intuitive navigation
- Mobile-optimized interface
- Smooth animations
- Accessible design

Future Enhancements:
- Backend API integration
- Real payment processing
- User reviews system
- Inventory management
- Admin dashboard`
                                                    }
                                                }
                                            },
                                            'AdventureGame': {
                                                type: 'directory',
                                                children: {
                                                    'README.md': {
                                                        type: 'file',
                                                        content: `# Adventure Game - Uncharted Style

## Overview
Interactive web-based adventure game with puzzle mechanics and immersive storytelling.

## Features
- 20 chapter storyline
- Puzzle mechanics
- Dialogue system
- Inventory management
- Save/Load functionality
- Multiple endings

## Technologies
- JavaScript (ES6+)
- HTML5 Canvas
- CSS3 animations
- Web Storage API

## Game Elements
- Logic puzzles
- Environmental challenges
- Character interactions
- Story progression
- Achievement system

## Status: 🚧 In Development
Working on mobile optimization and additional chapters.`
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        };

        // Wallpapers for Settings
        const Wallpapers = [
            'linear-gradient(135deg, #0f172a 0%, #1e40af 50%, #334155 100%)',
            'linear-gradient(135deg, #1e293b 0%, #3730a3 50%, #1e40af 100%)',
            'linear-gradient(135deg, #111827 0%, #1f2937 50%, #374151 100%)',
            'linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #0284c7 100%)'
        ];

        // Application Manager
        class AppManager {
            constructor() {
                this.windows = new Map();
                this.zIndex = 100;
                this.activeWindow = null;
            }

            openApp(appType, param = null) {
                const windowId = `${appType}_${Date.now()}`;
                
                // Allow multiple browser and code windows
                if (this.windows.has(appType) && !['browser', 'code'].includes(appType)) {
                    const existingWindow = this.windows.get(appType);
                    this.focusWindow(existingWindow.element);
                    if (existingWindow.element.classList.contains('minimized')) {
                        existingWindow.element.classList.remove('minimized');
                    }
                    return;
                }

                const window = this.createWindow(windowId, appType, param);
                
                const windowKey = (['browser', 'code'].includes(appType)) ? windowId : appType;
                this.windows.set(windowKey, window);
                this.updateDockIndicator(appType, true);
                this.focusWindow(window.element);
            }

            createWindow(windowId, appType, param) {
                const windowEl = document.createElement('div');
                windowEl.className = 'window';
                windowEl.setAttribute('data-window-id', windowId);
                windowEl.setAttribute('data-app-type', appType);

                const x = 100 + (this.windows.size * 30);
                const y = 60 + (this.windows.size * 30);
                windowEl.style.left = `${x}px`;
                windowEl.style.top = `${y}px`;
                
                if (appType === 'terminal') {
                    windowEl.style.width = '800px';
                    windowEl.style.height = '500px';
                } else if (appType === 'portfolio') {
                    windowEl.style.width = '900px';
                    windowEl.style.height = '700px';
                } else if (appType === 'browser') {
                    windowEl.style.width = '1000px';
                    windowEl.style.height = '700px';
                } else {
                    windowEl.style.width = '750px';
                    windowEl.style.height = '550px';
                }
                
                windowEl.style.zIndex = ++this.zIndex;

                const appConfig = this.getAppConfig(appType, param);
                windowEl.innerHTML = `
                    <div class="window-header">
                        <div class="window-title">
                            <span>${appConfig.icon}</span>
                            <span>${appConfig.title}</span>
                        </div>
                        <div class="window-controls">
                            <div class="window-control minimize" onclick="appManager.minimizeWindow('${windowId}')"></div>
                            <div class="window-control maximize" onclick="appManager.toggleMaximize('${windowId}')"></div>
                            <div class="window-control close" onclick="appManager.closeWindow('${windowId}', '${appType}')"></div>
                        </div>
                    </div>
                    <div class="window-content" id="content-${windowId}">
                        ${appConfig.content}
                    </div>
                `;

                document.getElementById('desktop').appendChild(windowEl);
                this.initializeApp(windowId, appType, param);
                this.makeDraggable(windowEl);

                windowEl.addEventListener('mousedown', () => {
                    this.focusWindow(windowEl);
                });

                return {
                    element: windowEl,
                    id: windowId,
                    appType: appType
                };
            }

            getAppConfig(appType, param) {
                const configs = {
                    terminal: {
                        icon: '📟',
                        title: 'Terminal - krishna@portfolioos',
                        content: '<div class="terminal" id="terminal-content"></div>'
                    },
                    files: {
                        icon: '📁',
                        title: 'Files',
                        content: `
                            <div class="file-manager">
                                <div class="file-sidebar" id="file-sidebar"></div>
                                <div style="flex: 1;">
                                    <div class="file-toolbar">
                                        <button class="toolbar-button" onclick="fileManager.goBack()">← Back</button>
                                        <button class="toolbar-button" onclick="fileManager.goForward()">Forward →</button>
                                        <button class="toolbar-button" onclick="fileManager.goUp()">↑ Up</button>
                                        <div class="breadcrumb" id="breadcrumb"></div>
                                    </div>
                                    <div class="file-content" id="file-content"></div>
                                </div>
                            </div>
                        `
                    },
                    code: {
                        icon: '📝',
                        title: param === 'resume' ? 'Resume.txt' : 'Text Editor',
                        content: `
                            <div style="display: flex; flex-direction: column; height: 100%;">
                                <div style="background: #e2e8f0; padding: 8px 12px; border-bottom: 1px solid #cbd5e1; font-size: 13px; color: #1e293b;">
                                    <span id="editor-filename">${param === 'resume' ? 'Resume.txt' : 'New Document'}</span>
                                </div>
                                <textarea style="flex: 1; border: none; outline: none; padding: 12px; font-family: 'Ubuntu Mono', monospace; font-size: 14px; background: white; color: #1e293b; resize: none;" placeholder="Loading content..." readonly></textarea>
                            </div>
                        `
                    },
                    browser: {
                        icon: '🌐',
                        title: 'Firefox - Portfolio Browser',
                        content: `
                            <div style="display: flex; flex-direction: column; height: 100%;">
                                <div class="browser-toolbar">
                                    <button class="browser-button" id="back-btn" onclick="browserManager.goBack()">← Back</button>
                                    <button class="browser-button" id="forward-btn" onclick="browserManager.goForward()">Forward →</button>
                                    <button class="browser-button" onclick="browserManager.refresh()">🔄</button>
                                    <input type="text" class="address-bar" id="address-bar" placeholder="Enter URL or search..." value="https://krishna-portfolio.dev">
                                    <button class="browser-button" onclick="browserManager.navigate()">Go</button>
                                </div>
                                <div style="flex: 1; display: flex; flex-direction: column;">
                                    <iframe id="browser-frame" class="browser-iframe" src="" style="display: none;"></iframe>
                                    <div id="home-page" style="flex: 1; background: white; display: flex; align-items: center; justify-content: center; color: #666; padding: 40px;">
                                        <div style="text-align: center; max-width: 600px;">
                                            <div style="font-size: 48px; margin-bottom: 24px;">🌐</div>
                                            <h2 style="color: #1e3a8a; margin-bottom: 16px;">Krishna Patil - Portfolio Browser</h2>
                                            <p style="margin-bottom: 32px; line-height: 1.6;">Explore my projects, skills, and achievements through these interactive links:</p>
                                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                                                <button onclick="browserManager.loadSite('https://kriss2012.github.io/BashaConverter-Krishna/BashaConverter-Krishna.html')" style="padding: 12px 16px; background: var(--ubuntu-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">🔄 BhashaConverter</button>
                                                <button onclick="browserManager.loadSite('https://fake-review-id-system-2.onrender.com/')" style="padding: 12px 16px; background: var(--ubuntu-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">🔍 Fake Review Detection</button>
                                                <button onclick="browserManager.loadSite('https://kriss2012.github.io/Online-Book-Store/')" style="padding: 12px 16px; background: var(--ubuntu-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">📚 Online Book Store</button>
                                                <button onclick="browserManager.loadSite('https://github.com/kriss2012')" style="padding: 12px 16px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">🐱 GitHub Profile</button>
                                                <button onclick="browserManager.loadSite('https://linkedin.com/in/krishna-chandrakant-patil-3396')" style="padding: 12px 16px; background: #0077b5; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">💼 LinkedIn</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    portfolio: {
                        icon: '💼',
                        title: 'Portfolio Overview',
                        content: `
                            <div style="height: 100%; overflow-y: auto; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);">
                                <div style="padding: 32px; color: #2E3436;">
                                    <div style="text-align: center; margin-bottom: 40px;">
                                        <div style="width: 120px; height: 120px; border-radius: 50%; background: var(--ubuntu-blue); margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 48px; color: white; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">👨‍💻</div>
                                        <h1 style="margin: 0 0 8px 0; color: #2E3436; font-size: 2.5rem;">Krishna Patil</h1>
                                        <p style="margin: 0; color: #666; font-size: 1.2rem;">Software Developer & BCA Student</p>
                                        <div style="margin-top: 16px;">
                                            <span style="background: var(--ubuntu-blue); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; margin: 0 4px;">Python</span>
                                            <span style="background: var(--ubuntu-blue); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; margin: 0 4px;">JavaScript</span>
                                            <span style="background: var(--ubuntu-blue); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; margin: 0 4px;">React</span>
                                            <span style="background: var(--ubuntu-blue); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; margin: 0 4px;">Flask</span>
                                        </div>
                                    </div>
                                    
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-bottom: 40px;">
                                        <div style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                                            <h3 style="color: var(--ubuntu-blue); margin: 0 0 16px 0; font-size: 1.4rem;">🎓 Education</h3>
                                            <p style="margin: 0 0 8px 0; font-weight: 500;">Bachelor of Computer Applications (BCA)</p>
                                            <p style="margin: 0 0 8px 0; color: #666;">G.H Raisoni College</p>
                                            <p style="margin: 0; color: #666;">Expected Graduation: March 2026</p>
                                        </div>
                                        
                                        <div style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                                            <h3 style="color: var(--ubuntu-blue); margin: 0 0 16px 0; font-size: 1.4rem;">📧 Contact</h3>
                                            <p style="margin: 0 0 8px 0;">📧 202krishnapatil@gmail.com</p>
                                            <p style="margin: 0 0 8px 0;">🔗 LinkedIn: krishna-chandrakant-patil-3396</p>
                                            <p style="margin: 0;">🐱 GitHub: github.com/kriss2012</p>
                                        </div>
                                    </div>
                                    
                                    <div style="background: white; padding: 32px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 24px;">
                                        <h2 style="color: var(--ubuntu-blue); margin: 0 0 24px 0; font-size: 1.8rem;">🚀 Featured Projects</h2>
                                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                            <div style="border: 1px solid #eee; border-radius: 8px; padding: 20px; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
                                                <h4 style="color: var(--ubuntu-blue); margin: 0 0 12px 0;">🔄 BhashaConverter</h4>
                                                <p style="color: #666; font-size: 0.9rem; line-height: 1.5;">Language translation application with speech recognition, supporting multiple file formats and Google Cloud APIs.</p>
                                                <button onclick="openExternal('https://kriss2012.github.io/BashaConverter-Krishna/BashaConverter-Krishna.html')" style="margin-top: 12px; background: var(--ubuntu-blue); color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Project</button>
                                            </div>
                                            <div style="border: 1px solid #eee; border-radius: 8px; padding: 20px; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
                                                <h4 style="color: var(--ubuntu-blue); margin: 0 0 12px 0;">🔍 Fake Review Detection</h4>
                                                <p style="color: #666; font-size: 0.9rem; line-height: 1.5;">AI-powered system using machine learning to detect fraudulent product reviews with 87% accuracy.</p>
                                                <button onclick="openExternal('https://fake-review-id-system-2.onrender.com/')" style="margin-top: 12px; background: var(--ubuntu-blue); color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Project</button>
                                            </div>
                                            <div style="border: 1px solid #eee; border-radius: 8px; padding: 20px; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform='translateY(0)'">
                                                <h4 style="color: var(--ubuntu-blue); margin: 0 0 12px 0;">📚 Online Book Store</h4>
                                                <p style="color: #666; font-size: 0.9rem; line-height: 1.5;">Complete e-commerce platform with search functionality, shopping cart, and responsive design.</p>
                                                <button onclick="openExternal('https://kriss2012.github.io/Online-Book-Store/')" style="margin-top: 12px; background: var(--ubuntu-blue); color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Project</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div style="background: white; padding: 32px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                                        <h2 style="color: var(--ubuntu-blue); margin: 0 0 24px 0; font-size: 1.8rem;">💻 Technical Skills</h2>
                                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                                            <div>
                                                <h4 style="color: #333; margin: 0 0 12px 0;">Languages</h4>
                                                <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Python</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">JavaScript</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">HTML/CSS</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">SQL</span>
                                                </div>
                                            </div>
                                            <div>
                                                <h4 style="color: #333; margin: 0 0 12px 0;">Frameworks</h4>
                                                <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Flask</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">React</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Node.js</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">NLTK</span>
                                                </div>
                                            </div>
                                            <div>
                                                <h4 style="color: #333; margin: 0 0 12px 0;">Tools</h4>
                                                <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Git</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">VS Code</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Google Cloud</span>
                                                    <span style="background: #f0f0f0; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Render</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                };
                return configs[appType] || configs.terminal;
            }

            initializeApp(windowId, appType, param) {
                if (appType === 'terminal') {
                    setTimeout(() => {
                        new Terminal(windowId);
                    }, 100);
                } else if (appType === 'files') {
                    setTimeout(() => {
                        fileManager = new FileManager(windowId);
                    }, 100);
                } else if (appType === 'code') {
                    setTimeout(() => {
                        this.loadTextEditorContent(windowId, param);
                    }, 100);
                } else if (appType === 'browser') {
                    setTimeout(() => {
                        browserManager = new BrowserManager(windowId);
                    }, 100);
                }
            }

            loadTextEditorContent(windowId, param) {
                const textarea = document.querySelector(`[data-window-id="${windowId}"] textarea`);
                if (param === 'resume') {
                    const resumeFile = this.getNodeAtPath('/home/krishna/Documents/Resume.txt');
                    if (resumeFile && textarea) {
                        textarea.value = resumeFile.content;
                        textarea.placeholder = '';
                    }
                } else {
                    textarea.value = '';
                    textarea.placeholder = 'Start typing...';
                    textarea.removeAttribute('readonly');
                }
            }

            getNodeAtPath(path) {
                const parts = path.split('/').filter(p => p);
                let current = VFS['/'];
                
                for (const part of parts) {
                    if (!current.children || !current.children[part]) {
                        return null;
                    }
                    current = current.children[part];
                }
                
                return current;
            }

            focusWindow(windowEl) {
                document.querySelectorAll('.window').forEach(w => w.classList.remove('focused'));
                windowEl.classList.add('focused');
                windowEl.style.zIndex = ++this.zIndex;
                this.activeWindow = windowEl;
            }

            minimizeWindow(windowId) {
                const windowEl = document.querySelector(`[data-window-id="${windowId}"]`);
                if (windowEl) {
                    windowEl.classList.add('minimized');
                }
            }

            toggleMaximize(windowId) {
                const windowEl = document.querySelector(`[data-window-id="${windowId}"]`);
                if (windowEl) {
                    windowEl.classList.toggle('maximized');
                }
            }

            closeWindow(windowId, appType) {
                const windowEl = document.querySelector(`[data-window-id="${windowId}"]`);
                if (windowEl) {
                    windowEl.remove();
                    
                    let keyToRemove = null;
                    for (let [key, window] of this.windows) {
                        if (window.id === windowId) {
                            keyToRemove = key;
                            break;
                        }
                    }
                    if (keyToRemove) this.windows.delete(keyToRemove);
                    
                    const hasTypeRemaining = Array.from(this.windows.values()).some(w => w.appType === appType);
                    if (!hasTypeRemaining) this.updateDockIndicator(appType, false);
                }
            }

            updateDockIndicator(appType, isRunning) {
                const dockItem = document.querySelector(`[data-app="${appType}"]`);
                if (dockItem) {
                    if (isRunning) {
                        dockItem.classList.add('running');
                    } else {
                        dockItem.classList.remove('running');
                    }
                }
            }

            makeDraggable(windowEl) {
                const header = windowEl.querySelector('.window-header');
                let isDragging = false;
                let startX, startY, startLeft, startTop;

                header.addEventListener('mousedown', (e) => {
                    if (windowEl.classList.contains('maximized')) return;
                    
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    startLeft = parseInt(windowEl.style.left);
                    startTop = parseInt(windowEl.style.top);

                    const handleDrag = (e) => {
                        if (!isDragging) return;
                        
                        const deltaX = e.clientX - startX;
                        const deltaY = e.clientY - startY;
                        
                        windowEl.style.left = `${startLeft + deltaX}px`;
                        windowEl.style.top = `${startTop + deltaY}px`;
                    };

                    const stopDrag = () => {
                        isDragging = false;
                        document.removeEventListener('mousemove', handleDrag);
                        document.removeEventListener('mouseup', stopDrag);
                    };

                    document.addEventListener('mousemove', handleDrag);
                    document.addEventListener('mouseup', stopDrag);
                });
            }
        }

        // Enhanced Browser Manager
        class BrowserManager {
            constructor(windowId) {
                this.windowId = windowId;
                this.currentUrl = 'https://krishna-portfolio.dev';
                this.history = [this.currentUrl];
                this.historyIndex = 0;
                this.initialize();
            }

            initialize() {
                this.setupEventListeners();
                this.showHomePage();
            }

            setupEventListeners() {
                const addressBar = document.querySelector(`[data-window-id="${this.windowId}"] #address-bar`);
                if (addressBar) {
                    addressBar.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.navigate();
                        }
                    });
                }
            }

            showHomePage() {
                const frame = document.querySelector(`[data-window-id="${this.windowId}"] #browser-frame`);
                const homePage = document.querySelector(`[data-window-id="${this.windowId}"] #home-page`);
                
                if (frame && homePage) {
                    frame.style.display = 'none';
                    homePage.style.display = 'flex';
                }
                
                this.updateNavButtons();
            }

            loadSite(url) {
                const frame = document.querySelector(`[data-window-id="${this.windowId}"] #browser-frame`);
                const homePage = document.querySelector(`[data-window-id="${this.windowId}"] #home-page`);
                const addressBar = document.querySelector(`[data-window-id="${this.windowId}"] #address-bar`);
                
                if (frame && homePage && addressBar) {
                    try {
                        frame.src = url;
                        frame.style.display = 'block';
                        homePage.style.display = 'none';
                        addressBar.value = url;
                        this.currentUrl = url;
                        this.addToHistory(url);
                        this.updateNavButtons();
                    } catch (error) {
                        showNotification('Unable to load site due to security restrictions');
                        window.open(url, '_blank');
                    }
                }
            }

            navigate() {
                const addressBar = document.querySelector(`[data-window-id="${this.windowId}"] #address-bar`);
                if (addressBar) {
                    let url = addressBar.value.trim();
                    
                    if (url === '' || url === 'https://krishna-portfolio.dev') {
                        this.showHomePage();
                        return;
                    }
                    
                    if (!url.startsWith('http://') && !url.startsWith('https://')) {
                        url = 'https://' + url;
                    }
                    
                    this.loadSite(url);
                }
            }

            goBack() {
                if (this.historyIndex > 0) {
                    this.historyIndex--;
                    const url = this.history[this.historyIndex];
                    if (url === 'https://krishna-portfolio.dev') {
                        this.showHomePage();
                    } else {
                        this.loadSite(url);
                    }
                }
            }

            goForward() {
                if (this.historyIndex < this.history.length - 1) {
                    this.historyIndex++;
                    const url = this.history[this.historyIndex];
                    if (url === 'https://krishna-portfolio.dev') {
                        this.showHomePage();
                    } else {
                        this.loadSite(url);
                    }
                }
            }

            refresh() {
                if (this.currentUrl === 'https://krishna-portfolio.dev') {
                    this.showHomePage();
                } else {
                    const frame = document.querySelector(`[data-window-id="${this.windowId}"] #browser-frame`);
                    if (frame && frame.src) {
                        frame.src = frame.src;
                    }
                }
            }

            addToHistory(url) {
                this.history = this.history.slice(0, this.historyIndex + 1);
                this.history.push(url);
                this.historyIndex = this.history.length - 1;
            }

            updateNavButtons() {
                const backBtn = document.querySelector(`[data-window-id="${this.windowId}"] #back-btn`);
                const forwardBtn = document.querySelector(`[data-window-id="${this.windowId}"] #forward-btn`);
                
                if (backBtn) {
                    backBtn.disabled = this.historyIndex <= 0;
                }
                if (forwardBtn) {
                    forwardBtn.disabled = this.historyIndex >= this.history.length - 1;
                }
            }
        }

        // Terminal Class with blue theme
        class Terminal {
            constructor(windowId) {
                this.containerId = `content-${windowId}`;
                this.container = document.getElementById(this.containerId).querySelector('.terminal');
                this.currentPath = '/home/krishna';
                this.commandHistory = [];
                this.historyIndex = -1;
                
                this.initialize();
            }

            initialize() {
                this.container.innerHTML = '';
                this.printWelcome();
                this.createInputLine();
            }

            printWelcome() {
                const welcome = `Welcome to PortfolioOS Terminal

<span style="color: #4E9A06;">krishna@portfolioos</span>:<span style="color: var(--accent-blue);">/home/krishna</span>$ <span style="color: #AD7FA8;">neofetch</span>

<span style="color: var(--ubuntu-blue);">                          .oOOOo.    </span>  <span style="color: #4E9A06;">krishna@portfolioos</span>
<span style="color: var(--ubuntu-blue);">                       .oOOOOOOOOOo.  </span>  --------------------
<span style="color: var(--ubuntu-blue);">                     oOOOOOOOOOOOOOOo </span>  <span style="color: var(--accent-blue);">OS:</span> PortfolioOS 20.04.6 LTS
<span style="color: var(--ubuntu-blue);">                   .oOOOOOOOOOOOOOOOo.</span>  <span style="color: var(--accent-blue);">Host:</span> Portfolio Browser
<span style="color: var(--ubuntu-blue);">                  oOOOOOOOOOOOOOOOOOOo </span>  <span style="color: var(--accent-blue);">Kernel:</span> 5.15.0-portfolio
<span style="color: var(--ubuntu-blue);">                .oOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">Uptime:</span> Always online
<span style="color: var(--ubuntu-blue);">               oOOOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">Shell:</span> bash 5.1.16
<span style="color: var(--ubuntu-blue);">              .oOOOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">Resolution:</span> ${window.innerWidth}x${window.innerHeight}
<span style="color: var(--ubuntu-blue);">              oOOOOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">DE:</span> PortfolioDE
<span style="color: var(--ubuntu-blue);">              'oOOOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">Theme:</span> Portfolio-Dark-Blue
<span style="color: var(--ubuntu-blue);">               'oOOOOOOOOOOOOOOOOOOOo</span>  <span style="color: var(--accent-blue);">CPU:</span> JavaScript Engine
<span style="color: var(--ubuntu-blue);">                'oOOOOOOOOOOOOOOOOOOo</span>   <span style="color: var(--accent-blue);">Memory:</span> Unlimited potential
<span style="color: var(--ubuntu-blue);">                 'oOOOOOOOOOOOOOOOo'</span>   <span style="color: var(--accent-blue);">Developer:</span> Krishna Patil
<span style="color: var(--ubuntu-blue);">                   'oOOOOOOOOOOOo'</span>     <span style="color: var(--accent-blue);">Projects:</span> 4+ GitHub Repositories
<span style="color: var(--ubuntu-blue);">                     'oOOOOOOo'</span>       <span style="color: var(--accent-blue);">Contact:</span> 202krishnapatil@gmail.com

Type <span style="color: #AD7FA8;">'help'</span> for available commands.
Type <span style="color: #AD7FA8;">'portfolio'</span> to view my projects and skills.
                `;
                this.print(welcome);
            }

            print(text, className = '') {
                const div = document.createElement('div');
                div.innerHTML = text;
                if (className) div.className = className;
                this.container.appendChild(div);
                this.container.scrollTop = this.container.scrollHeight;
            }

            createInputLine() {
                if (this.container.querySelector('.input-line')) {
                    this.container.querySelector('.input-line').remove();
                }

                const inputLine = document.createElement('div');
                inputLine.className = 'input-line';
                inputLine.innerHTML = `
                    <span class="terminal-prompt">krishna@portfolioos</span>:<span class="terminal-path">${this.currentPath}</span>$ 
                    <input type="text" class="terminal-input" style="background: transparent; border: none; outline: none; color: white; font-family: inherit; font-size: inherit; width: 70%;">
                `;
                
                this.container.appendChild(inputLine);
                
                const input = inputLine.querySelector('.terminal-input');
                input.focus();
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        const command = input.value.trim();
                        if (command) {
                            this.commandHistory.push(command);
                            this.historyIndex = this.commandHistory.length;
                        }
                        this.executeCommand(command);
                    } else if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        if (this.historyIndex > 0) {
                            this.historyIndex--;
                            input.value = this.commandHistory[this.historyIndex];
                        }
                    } else if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        if (this.historyIndex < this.commandHistory.length - 1) {
                            this.historyIndex++;
                            input.value = this.commandHistory[this.historyIndex];
                        } else {
                            this.historyIndex = this.commandHistory.length;
                            input.value = '';
                        }
                    }
                });

                this.container.scrollTop = this.container.scrollHeight;
            }

            executeCommand(command) {
                this.print(`<span class="terminal-prompt">krishna@portfolioos</span>:<span class="terminal-path">${this.currentPath}</span>$ ${command}`);
                
                const parts = command.split(' ');
                const cmd = parts[0];
                const args = parts.slice(1);

                switch (cmd) {
                    case 'help':
                        this.showHelp();
                        break;
                    case 'portfolio':
                        this.showPortfolio();
                        break;
                    case 'neofetch':
                        this.showNeofetch();
                        break;
                    case 'ls':
                        this.listFiles(args[0]);
                        break;
                    case 'cd':
                        this.changeDirectory(args[0]);
                        break;
                    case 'cat':
                        this.showFile(args[0]);
                        break;
                    case 'pwd':
                        this.print(this.currentPath);
                        break;
                    case 'whoami':
                        this.print('krishna');
                        break;
                    case 'date':
                        this.print(new Date().toString());
                        break;
                    case 'clear':
                        this.container.innerHTML = '';
                        break;
                    case 'echo':
                        this.print(args.join(' '));
                        break;
                    case 'uname':
                        this.print('PortfolioOS 20.04.6 LTS x86_64');
                        break;
                    case 'ps':
                        this.print('  PID TTY          TIME CMD\n 1234 pts/0    00:00:01 bash\n 5678 pts/0    00:00:00 portfolio-app\n 9012 pts/0    00:00:00 neofetch');
                        break;
                    case 'history':
                        this.commandHistory.forEach((cmd, i) => {
                            this.print(`  ${i + 1}  ${cmd}`);
                        });
                        break;
                    case 'contact':
                        this.showContact();
                        break;
                    case 'projects':
                        this.showProjects();
                        break;
                    case 'skills':
                        this.showSkills();
                        break;
                    case 'open':
                        if (args[0]) {
                            this.openApp(args[0]);
                        } else {
                            this.print('Usage: open [files|portfolio|browser]');
                        }
                        break;
                    case '':
                        break;
                    default:
                        this.print(`Command not found: ${cmd}. Type 'help' for available commands.`);
                }
                
                this.createInputLine();
            }

            showHelp() {
                const help = `
<span style="color: #4E9A06;">Available Commands:</span>

<span style="color: #AD7FA8;">System Commands:</span>
  help          - Show this help message
  clear         - Clear terminal screen
  neofetch      - Display system information
  uname         - Show system version
  whoami        - Display current user
  date          - Show current date and time
  ps            - Show running processes
  history       - Show command history

<span style="color: #AD7FA8;">File Operations:</span>
  ls [dir]      - List directory contents
  cd [dir]      - Change directory
  cat [file]    - Display file contents
  pwd           - Show current directory

<span style="color: #AD7FA8;">Portfolio Commands:</span>
  portfolio     - View complete portfolio overview
  projects      - List my major projects
  skills        - Show technical skills
  contact       - Display contact information
  open [app]    - Launch applications (files, portfolio, browser)

<span style="color: #AD7FA8;">Utilities:</span>
  echo [text]   - Display text

<span style="color: var(--accent-blue);">Quick Navigation:</span>
  cd Projects           - View my project files
  cd Documents          - View documents and resume
  cat Documents/Resume.txt  - Display my complete resume
                `;
                this.print(help);
            }

            showPortfolio() {
                const portfolio = `
<span style="color: #4E9A06;">═══════════════════════════════════════════════════</span>
<span style="color: var(--ubuntu-blue);">                 KRISHNA PATIL PORTFOLIO</span>
<span style="color: #4E9A06;">═══════════════════════════════════════════════════</span>

<span style="color: #AD7FA8;">🎓 EDUCATION:</span>
  Bachelor of Computer Applications (BCA) - 3rd Year
  G.H Raisoni College, Expected Graduation: March 2026

<span style="color: #AD7FA8;">💻 TECHNICAL SKILLS:</span>
  <span style="color: var(--accent-blue);">Languages:</span> Python (Advanced), JavaScript (Intermediate), HTML/CSS, SQL
  <span style="color: var(--accent-blue);">Frameworks:</span> Flask, React, Node.js, NLTK
  <span style="color: var(--accent-blue);">Tools:</span> VS Code, Git, Google Cloud APIs, Docker

<span style="color: #AD7FA8;">🚀 MAJOR PROJECTS:</span>
  1. <span style="color: var(--accent-blue);">BhashaConverter</span> - Language Translation App (Python, React, Google APIs)
  2. <span style="color: var(--accent-blue);">Fake Review Detection</span> - AI Analysis Tool (Python, ML, Flask)
  3. <span style="color: var(--accent-blue);">Online Book Store</span> - E-commerce Platform (HTML, CSS, JavaScript)
  4. <span style="color: var(--accent-blue);">Adventure Game</span> - Interactive Web Game (JavaScript, HTML5 Canvas)

<span style="color: #AD7FA8;">📧 CONTACT INFORMATION:</span>
  Email: 202krishnapatil@gmail.com
  LinkedIn: linkedin.com/in/krishna-chandrakant-patil-3396
  GitHub: github.com/kriss2012

<span style="color: #4E9A06;">═══════════════════════════════════════════════════</span>
Type 'open portfolio' to launch the GUI version with live project demos.
                `;
                this.print(portfolio);
            }

            showProjects() {
                const projects = `
<span style="color: #AD7FA8;">🚀 GITHUB PROJECTS:</span>

1. <span style="color: var(--accent-blue);">BhashaConverter</span>
   Language Translation App with speech recognition
   Tech: Python, Flask, React, Google Cloud APIs
   Live: https://kriss2012.github.io/BashaConverter-Krishna/

2. <span style="color: var(--accent-blue);">Fake Review Detection</span>
   AI-powered fraud detection system (87% accuracy)
   Tech: Python, NLTK, scikit-learn, Flask
   Live: https://fake-review-id-system-2.onrender.com/

3. <span style="color: var(--accent-blue);">Online Book Store</span>
   Complete e-commerce platform
   Tech: HTML5, CSS3, JavaScript, Responsive Design
   Live: https://kriss2012.github.io/Online-Book-Store/

4. <span style="color: var(--accent-blue);">Adventure Game</span>
   Interactive web-based game (20 chapters)
   Tech: JavaScript, HTML5 Canvas, Web Storage
   Status: In Development

Use 'open portfolio' to explore these with interactive demos.
                `;
                this.print(projects);
            }

            showSkills() {
                const skills = `
<span style="color: #AD7FA8;">💻 TECHNICAL SKILLS:</span>

<span style="color: var(--accent-blue);">Programming Languages:</span>
  Python (Advanced) - Flask, NLTK, scikit-learn, pandas
  JavaScript (Intermediate) - React, Node.js, ES6+
  HTML/CSS (Advanced) - Responsive Design, CSS Grid, Flexbox
  SQL - Database design and queries

<span style="color: var(--accent-blue);">Frameworks & Libraries:</span>
  Web: Flask, React, Node.js
  ML/AI: NLTK, scikit-learn, pandas
  Styling: Tailwind CSS, Bootstrap

<span style="color: var(--accent-blue);">Tools & Platforms:</span>
  Version Control: Git, GitHub
  Development: VS Code, PyCharm
  Deployment: Google Cloud, Render, GitHub Pages
  APIs: Google Cloud Translation, Google Speech-to-Text

<span style="color: var(--accent-blue);">Areas of Expertise:</span>
  Full-Stack Web Development
  Machine Learning Applications
  API Integration
  Responsive Web Design
  E-commerce Platforms
                `;
                this.print(skills);
            }

            showContact() {
                const contact = `
<span style="color: #AD7FA8;">📧 CONTACT INFORMATION:</span>

<span style="color: var(--accent-blue);">Email:</span> 202krishnapatil@gmail.com
<span style="color: var(--accent-blue);">LinkedIn:</span> linkedin.com/in/krishna-chandrakant-patil-3396
<span style="color: var(--accent-blue);">GitHub:</span> github.com/kriss2012
<span style="color: var(--accent-blue);">Portfolio:</span> https://krishna-portfolio.dev

<span style="color: var(--accent-blue);">Availability:</span> Open to internship and freelance opportunities
<span style="color: var(--accent-blue);">Location:</span> India (Remote work available)

Feel free to reach out for collaboration, opportunities, or technical discussions!
                `;
                this.print(contact);
            }

            showNeofetch() {
                this.printWelcome();
            }

            openApp(appName) {
                this.print(`Launching ${appName}...`);
                setTimeout(() => {
                    appManager.openApp(appName);
                }, 500);
            }

            listFiles(path) {
                const targetPath = path ? this.resolvePath(path) : this.currentPath;
                const node = this.getNodeAtPath(targetPath);
                
                if (!node || node.type !== 'directory') {
                    this.print(`ls: cannot access '${path || ''}': No such file or directory`);
                    return;
                }
                
                const items = Object.keys(node.children);
                if (items.length === 0) {
                    this.print('');
                    return;
                }
                
                const coloredItems = items.map(item => {
                    return node.children[item].type === 'directory' ? 
                        `<span style="color: var(--accent-blue); font-weight: bold;">${item}/</span>` : 
                        `<span>${item}</span>`;
                });
                
                this.print(coloredItems.join('  '));
            }

            changeDirectory(path) {
                if (!path || path === '~') {
                    this.currentPath = '/home/krishna';
                    return;
                }
                
                const targetPath = this.resolvePath(path);
                const node = this.getNodeAtPath(targetPath);
                
                if (!node) {
                    this.print(`cd: no such file or directory: ${path}`);
                } else if (node.type !== 'directory') {
                    this.print(`cd: not a directory: ${path}`);
                } else {
                    this.currentPath = targetPath;
                }
            }

            showFile(filename) {
                if (!filename) {
                    this.print('cat: missing file operand');
                    return;
                }
                
                const filePath = this.resolvePath(filename);
                const node = this.getNodeAtPath(filePath);
                
                if (!node) {
                    this.print(`cat: ${filename}: No such file or directory`);
                } else if (node.type !== 'file') {
                    this.print(`cat: ${filename}: Is a directory`);
                } else {
                    this.print(node.content.replace(/\n/g, '<br>'));
                }
            }

            resolvePath(path) {
                if (path.startsWith('/')) return path;
                
                if (path === '..') {
                    const parts = this.currentPath.split('/').filter(p => p);
                    parts.pop();
                    return '/' + parts.join('/');
                }
                
                if (path === '.') return this.currentPath;
                
                return this.currentPath === '/' ? `/${path}` : `${this.currentPath}/${path}`;
            }

            getNodeAtPath(path) {
                if (path === '/') return VFS['/'];
                
                const parts = path.split('/').filter(p => p);
                let current = VFS['/'];
                
                for (const part of parts) {
                    if (!current.children || !current.children[part]) {
                        return null;
                    }
                    current = current.children[part];
                }
                
                return current;
            }
        }

        // File Manager Class
        class FileManager {
            constructor(windowId) {
                this.windowId = windowId;
                this.currentPath = '/home/krishna';
                this.history = [this.currentPath];
                this.historyIndex = 0;
                
                this.initialize();
            }

            initialize() {
                this.renderSidebar();
                this.renderContent();
                this.updateBreadcrumb();
            }

            renderSidebar() {
                const sidebar = document.querySelector(`[data-window-id="${this.windowId}"] #file-sidebar`);
                
                const quickAccess = [
                    { name: 'Home', path: '/home/krishna', icon: '🏠' },
                    { name: 'Desktop', path: '/home/krishna/Desktop', icon: '🖥️' },
                    { name: 'Documents', path: '/home/krishna/Documents', icon: '📄' },
                    { name: 'Projects', path: '/home/krishna/Projects', icon: '💼' }
                ];

                sidebar.innerHTML = `
                    <h4 style="margin: 0 0 12px 0; font-size: 14px; color: #64748b;">Quick Access</h4>
                    ${quickAccess.map(item => `
                        <div class="file-item" onclick="fileManager.navigateTo('${item.path}')">
                            <span>${item.icon}</span>
                            <span>${item.name}</span>
                        </div>
                    `).join('')}
                `;
            }

            renderContent() {
                const content = document.querySelector(`[data-window-id="${this.windowId}"] #file-content`);
                const node = this.getNodeAtPath(this.currentPath);
                
                if (!node || node.type !== 'directory') {
                    content.innerHTML = '<p>Directory not found.</p>';
                    return;
                }
                
                const items = Object.entries(node.children);
                
                if (items.length === 0) {
                    content.innerHTML = '<div style="text-align:center; padding: 40px; color: #64748b;"><h3>This folder is empty.</h3></div>';
                    return;
                }
                
                content.innerHTML = `
                    <div class="file-grid">
                        ${items.map(([name, item]) => `
                            <div class="file-grid-item" ondblclick="fileManager.openItem('${name}')">
                                <div class="file-icon">${item.type === 'directory' ? '📁' : '📄'}</div>
                                <div class="file-name">${name}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            updateBreadcrumb() {
                const breadcrumb = document.querySelector(`[data-window-id="${this.windowId}"] #breadcrumb`);
                if (!breadcrumb) return;
                
                const parts = this.currentPath.split('/').filter(p => p);
                let currentPath = '';
                const items = [`<span class="breadcrumb-item" onclick="fileManager.navigateTo('/')">🏠</span>`];
                
                parts.forEach(part => {
                    currentPath += '/' + part;
                    items.push(`<span>›</span><span class="breadcrumb-item" onclick="fileManager.navigateTo('${currentPath}')">${part}</span>`);
                });
                
                breadcrumb.innerHTML = items.join(' ');
            }

            navigateTo(path) {
                this.currentPath = path;
                this.history = this.history.slice(0, this.historyIndex + 1);
                this.history.push(path);
                this.historyIndex = this.history.length - 1;
                
                this.renderContent();
                this.updateBreadcrumb();
            }

            openItem(name) {
                const node = this.getNodeAtPath(this.currentPath);
                const item = node.children[name];
                
                if (item.type === 'directory') {
                    this.navigateTo(this.currentPath === '/' ? `/${name}` : `${this.currentPath}/${name}`);
                } else {
                    // Open file in text editor
                    appManager.openApp('code');
                    
                    setTimeout(() => {
                        const windows = document.querySelectorAll('[data-app-type="code"]');
                        if (windows.length > 0) {
                            const latestWindow = windows[windows.length - 1];
                            const textarea = latestWindow.querySelector('textarea');
                            const filenameSpan = latestWindow.querySelector('#editor-filename');
                            
                            if (textarea && filenameSpan) {
                                textarea.value = item.content;
                                filenameSpan.textContent = name;
                            }
                        }
                    }, 100);
                }
            }

            goBack() {
                if (this.historyIndex > 0) {
                    this.historyIndex--;
                    this.navigateTo(this.history[this.historyIndex]);
                }
            }

            goForward() {
                if (this.historyIndex < this.history.length - 1) {
                    this.historyIndex++;
                    this.navigateTo(this.history[this.historyIndex]);
                }
            }

            goUp() {
                const parts = this.currentPath.split('/').filter(p => p);
                if (parts.length > 0) {
                    parts.pop();
                    this.navigateTo('/' + parts.join('/'));
                }
            }

            getNodeAtPath(path) {
                if (path === '/') return VFS['/'];
                
                const parts = path.split('/').filter(p => p);
                let current = VFS['/'];
                
                for (const part of parts) {
                    if (!current.children || !current.children[part]) {
                        return null;
                    }
                    current = current.children[part];
                }
                
                return current;
            }
        }

        // Global instances
        let appManager;
        let fileManager;
        let browserManager;

        // Global functions for onclick handlers
        function openApp(appType, param = null) {
            if (!appManager) return;
            appManager.openApp(appType, param);
        }

        function openExternal(url) {
            showNotification('Opening external link in a new tab...');
            setTimeout(() => {
                window.open(url, '_blank');
            }, 500);
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        function updateClock() {
            const clock = document.getElementById('clock-date');
            if (!clock) return;
            
            const now = new Date();
            clock.textContent = now.toLocaleDateString('en-US', { 
                weekday: 'short', 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Boot sequence and initialization
        function bootSystem() {
            const bootScreen = document.getElementById('boot-screen');
            const bootText = document.getElementById('boot-text');
            
            const bootMessages = [
                'Initializing kernel...',
                'Loading user profile...',
                'Mounting VFS...',
                'Starting services...',
                'PortfolioOS ready! Welcome.'
            ];
            
            let i = 0;
            const interval = setInterval(() => {
                if (i < bootMessages.length) {
                    bootText.textContent += `[${(i * 0.2).toFixed(6)}] ${bootMessages[i]}\n`;
                    bootText.scrollTop = bootText.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                    
                    setTimeout(() => {
                        bootScreen.style.opacity = '0';
                        
                        setTimeout(() => {
                            bootScreen.remove();
                            document.getElementById('desktop').style.opacity = '1';
                            
                            // Open terminal and portfolio automatically
                            setTimeout(() => {
                                appManager.openApp('terminal');
                                setTimeout(() => appManager.openApp('portfolio'), 1000);
                            }, 500);
                        }, 1000);
                    }, 500);
                }
            }, 300);
        }

        // DOMContentLoaded listener
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize app manager
            appManager = new AppManager();
            
            // Login button handler
            document.getElementById('login-btn').addEventListener('click', () => {
                const loginScreen = document.getElementById('login-screen');
                const bootScreen = document.getElementById('boot-screen');
                
                loginScreen.style.opacity = '0';
                
                setTimeout(() => {
                    loginScreen.remove();
                    bootScreen.classList.remove('hidden');
                    bootSystem();
                }, 1000);
            });
            
            // Activities overview handler
            document.getElementById('activities-btn').addEventListener('click', () => {
                const overlay = document.getElementById('activities-overview');
                const desktop = document.getElementById('desktop');
                const isActive = overlay.classList.toggle('active');
                
                desktop.classList.toggle('overview-mode', isActive);
                
                if (isActive) {
                    const preview = document.getElementById('workspace-preview');
                    preview.innerHTML = '';
                    
                    appManager.windows.forEach((window) => {
                        if (!window.element.classList.contains('minimized')) {
                            const previewEl = document.createElement('div');
                            previewEl.className = 'window-preview';
                            previewEl.innerHTML = `
                                <div>
                                    <div style="font-size: 24px;">${window.appType === 'terminal' ? '📟' : 
                                                                   window.appType === 'files' ? '📁' : 
                                                                   window.appType === 'browser' ? '🌐' : 
                                                                   window.appType === 'code' ? '📝' : 
                                                                   window.appType === 'portfolio' ? '💼' : '📄'}</div>
                                    <div>${window.appType.charAt(0).toUpperCase() + window.appType.slice(1)}</div>
                                </div>
                            `;
                            
                            previewEl.onclick = () => {
                                appManager.focusWindow(window.element);
                                overlay.classList.remove('active');
                                desktop.classList.remove('overview-mode');
                            };
                            
                            preview.appendChild(previewEl);
                        }
                    });
                    
                    if (preview.children.length === 0) {
                        preview.innerHTML = '<div style="grid-column: 1/-1; text-align: center; color: #999;">No open windows</div>';
                    }
                }
            });

            // Context menu handling
            const contextMenu = document.getElementById('context-menu');
            
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                contextMenu.style.display = 'block';
                contextMenu.style.left = `${e.pageX}px`;
                contextMenu.style.top = `${e.pageY}px`;
            });
            
            document.addEventListener('click', (e) => {
                if (!contextMenu.contains(e.target)) {
                    contextMenu.style.display = 'none';
                }
            });
            
            // Initialize clock
            updateClock();
            setInterval(updateClock, 1000);
        });
    </script>
</body>
</html>